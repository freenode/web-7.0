<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="theme-color" content="#292f2f">
    <meta name="description" content="freenode IRC network">
    <link rel="icon" href="../static/img/logos/coloured-alphabg-sq-120.png">
    <title>Help us test ircd-seven! - freenode</title>
    <link href="../static/css/open-sans.css" rel="stylesheet">
    <link href="../static/css/font-awesome.min.css" rel="stylesheet">
    <link href="../static/css/freenode.css" rel="stylesheet">
    <link href="../static/css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <a href="../index.html"><img alt="freenode" class="nlogo" src="../static/img/logos/coloured-alphabg.svg "></a>
        <a href="https://www.privateinternetaccess.com/" target="_blank"><img alt="Private internet access" class="nlogo" src="../static/img/logos/PIALogo_white.svg"></a>
    </nav>
    <div class="container">
        
<div class="main">
    
<div class="art-info">
    <a href="help-us-test-ircd-seven.html"><h1 class="art">Help us test ircd-seven!</h1></a>
    <span class="art-date">christel on 2008-11-02</span>
</div>

    <div class="art-body">
    <p>As many of you will have noticed, our current IRC server software, <a href="http://freenode.net/hyperion.shtml">hyperion</a>, has been showing its age for some time now. Expectations for its eventual replacement are nothing if not high -- hyperion contains a great many features not found elsewhere, most of which are fairly unique to the way in which freenode operates, so anything that wants to take over from it must provide all of these, in a more robust, maintainable and future-proof package.</p>
<p><a href="http://hg.atheme.org/charybdis">Charybdis</a> looks like a good start -- it's a modern, modular IRC daemon supporting many of hyperion's strange features, and built on top of <a href="http://ircd-ratbox.org/">ircd-ratbox</a>, which gives it a good heritage of stability and scalability. ircd-ratbox is perhaps best known for powering the majority of EFNet, which seems to make it an excellent base on which to build.</p>
<p>However, neither ratbox nor Charybdis implements freenode's more unique features, such as ban-forwarding or hidden IRC operators. So, some work is needed.</p>
<p>Enter <a href="http://freenode.net/seven.shtml">ircd-seven</a>. Seven is based on Charybdis, with the features freenode needs added in. Channel operators and network operators alike should recognise most of the useful, and heretofore unique, features of hyperion, without many of the bugs and oddities that have become an unfortunate fact of life.</p>
<p>Development and internal testing of seven has been ongoing for some time, and we're now ready to open up testing to a wider audience. The test network is currently running on <em>testnet.freenode.net</em>, port 9002 for normal connections or 9003 for SSL connections. This is a new server, sharing no code with the current software, so all aspects of it need thorough testing, both that it works, and behaves in a way consistent with how most people want to use it -- this last aspect is particularly difficult to do in small-scale private testing.</p>
<p>ircd-seven is designed to be capable of everything hyperion is, but not necessarily as a drop-in replacement. Some functionality is still available in a different form, or with a different interface. The most notable differences for users are summarised below:</p>
<p><strong>SSL support</strong>
seven supports SSL, for client and server connections. Users connecting via SSL will get user mode +Z to denote this.</p>
<p><strong> Channel bans and quiets</strong>
Channel mode +q (quiet) is now sent as a separate mode -- hyperion's translation of +q foo to +b %foo is gone. Extended ban types are supported for all ban-like modes (+bqeI). These extended masks begin with $, followed by an optional ~, to negate the match, and a single letter denoting the type of match to do. For example:</p>
<ul>
<li>
<p>+b $r:Lee* will ban any client whose realname (gecos) field begins 'Lee'. This is equivalent to hyperion's +d mode.</p>
</li>
<li>
<p>+I $a:spb will set an invite exception for any client logged in to services as spb.</p>
</li>
<li>
<p>+q $~a will prevent any user not logged in to services from speaking. This is roughly equivalent to hyperion's mode +R.</p>
</li>
</ul>
<p>Forward channels for bans are now delimited with $ instead of hyperion's !, and can be used with extended ban masks as well. Setting and unsetting of bans via the hyperion syntax (nick!user@host!#channel) is supported -- it will be translated to nick!user@host$#channel.</p>
<p><strong> Identified status</strong>
There is no user mode +e. The IRCd keeps track of the account name of every user who is identified to services, and uses this to determine whether a user is identified or not. The 'is identified to services' line in WHOIS output is no longer present; there is, however, a line containing the account name if the user is logged in.</p>
<p><strong> Identifying on connect</strong>
Using a NickServ password as a server password still works as it does in hyperion. However, there are two new mechanisms:</p>
<ul>
<li>
<p>You can specify : in the server password field, to log in to a specific account. This removes the requirement to connect using a nickname that is grouped to your services account.</p>
</li>
<li>
<p>seven supports SASL authentication, to log in to services during the connection process. This requires client support; a script for Irssi to do so is located <a href="http://freenode.net/sasl">here</a>. Conspire supports this natively. Other clients, as far as I'm aware, do not.</p>
</li>
</ul>
<p><strong>Username prefixes</strong>
The n= and i= prefixes are not used; instead ~ is prefixed to a non-identd username, as in most other daemons.</p>
<p><strong>IDENTIFY-MSG</strong>
The identify-msg capability is still present, but the way to enable it has changed -- it is now part of the same CAP mechanism that is used to control SASL and multi-prefix capabilities. A script for irssi that understands both hyperion's and seven's identify-msg capability is available <a href="http://adipose.attenuate.org/~stephen/ircd-seven/format_identify.pl">here</a>. Conspire will also support this natively once w00t remembers to apply the patch.</p>
    </div>
    
<div class="art-nav">
    <a href="maintenance-downtime-warning-lem-orwell.html">older</a><a href="../archive.html">all</a>
    <a href="new-servers.html">newer</a>
</div>

</div>

    </div>
    <div class="footers">
        <footer class="footer">
    <div class="footer-container">
    <div class="footerchild">
        <h2>About freenode</h2>
        <ul>
            <li>
                <a href="../vision.html">Vision</a>
            </li>
            <li>
                <a href="../mission.html">Mission</a>
            </li>
            <li>
                <a href="../philosophy.html">Philosophy</a>
            </li>
            <li>
                <a href="../policies.html">Policies</a>
            </li>
            <li>
                <a href="../about.html">Credits</a>
            </li>
        </ul>
    </div>
    <div class="footerchild">
        <h2>Using freenode</h2>
        <ul>
            <li>
                <a href="../faq/chat">Connect</a>
            </li>
            <li>
                <a href="../faq/clients">Clients</a>
            </li>
            <li>
                <a href="https://webchat.freenode.net/">Webchat</a>
            </li>
            <li>
                <a href="../faq/sasl">SASL</a>
            </li>
        </ul>
    </div>
    <div class="footerchild">
        <h2>Groups/Projects</h2>
        <ul>
            <li>
                <a href="../soon.html">Group Management System</a>
            </li>
            <li>
                <a href="../soon.html">Groups on freenode</a>
            </li>
            <li>
                <a href="../faq/groups">How Groups Work</a>
            </li>
        </ul>
    </div>
    <div class="footerchild">
        <h2>Support freenode</h2>
        <ul>
            <li>
                <a href="../faq/host">Host a server</a>
            </li>
        </ul>
    </div>
    <div class="footerchild">
        <div class="footer-push">
        <h2>Social Media</h2>
        <ul>
            <li>
                <a href="https://plus.google.com/104326727082310562426" target="_blank">
                    <i class="fa fa-google-plus fa-fw"></i> Google+</a>
            </li>
            <li>
                <a href="https://twitter.com/freenodestaff" target="_blank">
                    <i class="fa fa-twitter fa-fw"></i> Twitter</a>
            </li>
            <li>
                <a href="https://www.facebook.com/freenode-366911233325305/" target="_blank">
                    <i class="fa fa-facebook fa-fw"></i> Facebook</a>
            </li>
            <li>
                <a href="../archive.html"><i class="fa fa-rss fa-fw"></i>
                News Archive</a>
            </li>
            <li>
                <a href="https://www.privateinternetaccess.com/" target="_blank"><img alt="PIA" height=
                "14px" class="fa-fw" src="../static/img/logos/pia-robot-original.svg">
                Private Internet Access</a>
            </li>
        </ul>
        </div>
    </div>
    </div>
</footer>
<footer class="copyright">
    <div>
    <a href="https://github.com/freenode/web-7.0"><i class="fa fa-github fa-lg"></i></a>&nbsp;
    <a class="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target= "_blank">
        <img alt="CC by-nc-sa" src="../static/img/by-nc-sa.svg">
    </a>
    </div>
    <div>
        &copy; 2016, freenode
    </div>
</footer>
    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-646096-3', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>