<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="theme-color" content="#292f2f">
    <meta name="description" content="freenode IRC network">
    <link rel="icon" href="../static/img/logos/coloured-alphabg-sq-120.png">
    <title>freenode webchat changes - freenode</title>
    <link href="../static/css/open-sans.css?a29a683" rel="stylesheet">
    <link href="../static/css/font-awesome.css?a29a683" rel="stylesheet">
    <link href="../static/css/style.css?a29a683" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <a href=".."><img alt="freenode logo" class="nlogo" src="../static/img/logos/coloured-alphabg.svg "></a>
        <a href="https://www.privateinternetaccess.com/pages/buy-vpn/freend/" target="_blank"><img alt="Private Internet Access" class="nlogo" src="../static/img/logos/PIALogo_white.svg"></a>
        <a class="invisible" href="#navigation">Jump to navigation</a>
    </nav>
    <div class="container">
        
<div class="main">
    <div class="art-info">
        
<a href="freenode-webchat-changes"><h1 class="art">freenode webchat changes</h1></a>
<span class="art-date">JonathanD on 2010-06-10</span>

    </div>
    <div class="art-body">
    <p>We­bchat has al­ways pre­sent­ed an in­ter­est­ing prob­lem, most­ly for the staff of var­i­ous chan­nels as well as the net­work it­self, but in­di­rect­ly for all our users as well.  All we­bchat con­nec­tions come from the IP ad­dress of the we­bchat ser­vice.  This re­sults in them hav­ing to be han­dled a lit­tle bit dif­fer­ent­ly from oth­er con­nec­tions.</p>
<p>To be­gin with, there needs to be a way for net­work or chan­nel staff to iden­ti­fy in­di­vid­ual con­nec­tions, as well as where they orig­i­nat­ed from.  The way this has pre­vi­ous­ly been han­dled is by en­cod­ing the IP of the source (the IP some­one uses to con­nect to the we­bchat) in hexa­dec­i­mal form in the ident field of the user.  The we­bchat users are "cloaked" (that is, their real host­name, which would be that of the we­bchat serv­er, is re­placed) with a unique string iden­ti­fy­ing the con­nec­tion.  This method al­lows chan­nel staff to ban or qui­et a we­bchat user via the unique con­nec­tion string, or via the ident in­for­ma­tion.</p>
<p>While this works, it's con­fus­ing to many. The unique con­nec­tion string changes every time a user makes a new con­nec­tion through we­bchat. There­fore, we've changed how we do the cloak­ing so IPs are shown in cloaks. This makes it much sim­pler for chan­nel staff to see what is go­ing on, and who is who. For now, this change only ap­plies to those us­ing the freen­ode we­bchat at <a href="http://webchat.freenode.net">http://we­bchat.freen­ode.net</a>. The effect is to change a cloak of the form "<code>gate­way/web/freen­ode/x-i­iqzrx­iqfn­nglqji</code>" to the form "<code>gate­way/web/freen­ode/ip.171.205.239.16</code>".</p>
<p>We would like to point out that this does not in any way re­duce the pri­va­cy of users of we­bchat: it has al­ways been pos­si­ble for any­one to di­rect­ly con­vert the en­cod­ed ident string back to an IP ad­dress. In ad­di­tion, the real host­names of clients have al­ways been vis­i­ble un­en­cod­ed in the "whois" out­put for the user.</p>
<p>In ad­di­tion, we have made a small but po­ten­tial­ly sig­nif­i­cant change to how the "ident" is shown. This has be­come nec­es­sary so that, with fu­ture ver­sions of our ircd, we can prop­er­ly lim­it con­nec­tions per IP ad­dress via we­bchat. For a typ­i­cal freen­ode we­bchat user, the full host­mask pre­vi­ous­ly had the form "<code>~abcde­f1@gate­way/web/freen­ode/...</code>". Many historical webchat bans and quiets are set as "<code>*!~abcde­f1@gate­way/web/freen­ode/*</code>". The change that we are making will break these bans. We have removed the <code>~</code> from the ident for <strong>all</strong> webchat connections (not just freenode's webchat), giving a full mask of the form "<code>abcde­f1@gate­way/web/freen­ode/ip.171.205.239.16</code>".</p>
<p>As such, chan­nel ops are ad­vised to ad­just their bans into the form of ei­ther "<code>*!abcde­f1@gate­way/web/freen­ode/*</code>" or "<code>*!*@gate­way/web/freen­ode/ip.171.205.239.16</code>" as soon as possible.</p>
<p>A fur­ther re­sult of this change is that those hosts from which a large num­ber of le­git­i­mate users con­nect to freen­ode through the we­bchat ser­vice may suf­fer re­fused con­nec­tions due to breach­ing the lim­its. If you find you­self faced by an er­ror of the form "Too many con­nec­tions", please email <em>iline at freen­ode dot net</em> with details of the IP address affected (which can be obtained from <a href="http://www.whatismyip.org">www.whatismyip.org</a>), the name of the organisation, and the number of connections expected, so that we can place a limit exemption. Please note that if you have a message of the form "Gateway connections are currently blocked" or "Gateway connections are currently being throttled", this is a different matter for which an I:line cannot help.</p>
<p>We hope that these changes make con­nec­tions through the freen­ode we­bchat eas­i­er to man­age for chan­nel ops and more trans­par­ent for all users.</p>
    </div>
    
<div class="art-nav">
    <span><a href="groups-advisory-board">previous article</a><span class="invisible">, </span></span><span><a href="../archive">all</a></span><span><span class="invisible">, </span><a href="group-registration-form-verifications">next article</a></span>
</div>

</div>

    </div>
    <div class="footers">
        <a name="navigation"/>
        <footer class="footer">
    <div class="footer-container">
    
    <div class="footerchild">
        <h2>About freenode</h2>
        <ul>
            
            <li>
                <a href="../project">The project</a>
            </li>
            <li>
                <a href="../people">The people</a>
            </li>
            <li>
                <a href="../philosophy">The philosophy</a>
            </li>
            <li>
                <a href="../policies">The policies</a>
            </li>
            <li>
                <a href="../live">freenode live!</a>
            </li>
            <li>
                <a href="../acknowledgements">Acknowledgements</a>
            </li>
        </ul>
    </div>
    
    <div class="footerchild">
        <h2>Using freenode</h2>
        <ul>
            
            <li>
                <a href="//webchat.freenode.net">Webchat</a>
            </li>
            <li>
                
                
                    <a href="ircs://chat.freenode.net:6697">chat.freenode.net:6697</a>
                
                
                
                    /
                
                
                
                    <a href="irc://chat.freenode.net:6667">non-SSL: 6667</a>
                
                
            </li>
            <li>
                <a href="../changuide">Channel guidelines</a>
            </li>
            <li>
                <a href="../catalysts">Catalyst guidelines</a>
            </li>
            <li>
                <a href="../kb/all">Knowledge base</a>
            </li>
            <li>
                <a href="../support">Supporting the project</a>
            </li>
        </ul>
    </div>
    
    <div class="footerchild">
        <h2>Groups</h2>
        <ul>
            
            <li>
                <a href="../groupreg">Group registration</a>
            </li>
            <li>
                <a href="#">Register as a group</a>
            </li>
            <li>
                <a href="#">Existing groups</a>
            </li>
        </ul>
    </div>
    
    <div></div>
    <div class="footerchild">
        <div class="footer-push">
        <h2>Social Media</h2>
        <ul>
            <li>
                <a href="https://plus.google.com/104326727082310562426" target="_blank">
                    <i class="fa fa-google-plus fa-fw"></i> <span class="hdn">Google+</span></a>
            </li>
            <li>
                <a href="https://twitter.com/freenodestaff" target="_blank">
                    <i class="fa fa-twitter fa-fw"></i> <span class="hdn">Twitter</span></a>
            </li>
            <li>
                <a href="https://www.facebook.com/freenode-366911233325305/" target="_blank">
                    <i class="fa fa-facebook fa-fw"></i> <span class="hdn">Facebook</span></a>
            </li>
            <li>
                <a href="../archive"><i class="fa fa-rss fa-fw"></i>
                <span class="hdn">News Archive</span></a>
            </li>
            <li>
                <a href="https://www.privateinternetaccess.com/pages/buy-vpn/freend/" target="_blank">
                    <img alt="PIA" class="fa-fw" src="../static/img/logos/pia-robot-original.svg">
                <span class="hdn">Private Internet Access</span></a>
            </li>
        </ul>
        </div>
    </div>
    </div>
</footer>
<footer class="copyright">
    <div>
    <a href="https://github.com/freenode/web-7.0"><i class="fa fa-github fa-lg"></i></a>&nbsp;
    <a class="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target= "_blank">
        <img alt="CC by-nc-sa" src="../static/img/by-nc-sa.svg">
    </a>
    </div>
    <div>
        &copy; 2016, freenode
    </div>
</footer>
    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-646096-3', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>